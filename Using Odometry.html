<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using Odometry &mdash; LouLib  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/collapsible-lists/css/tree_view.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Trajectory" href="Trajectory.html" />
    <link rel="prev" title="Odometry Sensors" href="Odometry%20Sensors.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            LouLib
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Controllers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="PID%20Controller.html">PID Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="TBH%20Controller.html">TBH Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="LQR%20Controller.html">LQR Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="RAMSETE%20Controller.html">RAMSETE Controller</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Odometry</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Odometry%20Sensors.html">Odometry Sensors</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using Odometry</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-an-odometry-tracker">Creating an odometry tracker</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-odometry-tracker">Using the odometry tracker</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Paths</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Trajectory.html">Trajectory</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Math</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Vector.html">Vector</a></li>
<li class="toctree-l1"><a class="reference internal" href="Matrix.html">Matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="Point2D%20and%20Pose2D.html">Point2D and Pose2D</a></li>
<li class="toctree-l1"><a class="reference internal" href="Constants%20and%20Functions.html">Constants and Functions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Units</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Unit%20System.html">Unit System</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Filters</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="SMA%20Filter.html">Simple Moving Average (SMA) Filter</a></li>
<li class="toctree-l1"><a class="reference internal" href="SMM%20Filter.html">Simple Moving Median (SMM) Filter</a></li>
<li class="toctree-l1"><a class="reference internal" href="EWMA%20Filter.html">Exponentially-Weighted Moving Average (EWMA) Filter</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Utility</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Logger.html">Logger</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/library_root.html">Library API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">LouLib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Using Odometry</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Using Odometry.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="using-odometry">
<h1>Using Odometry<a class="headerlink" href="#using-odometry" title="Permalink to this headline"></a></h1>
<p>The <code class="code docutils literal notranslate"><span class="pre">Odometry</span></code> namespace contains four different classes that can be
used for Odometry, depending on what sensors are on the robot. All four classes
use pose exponentials, which allows for very accurate tracking, but using the
classes that rely on more sensors will allow for the most accurate tracking.</p>
<section id="creating-an-odometry-tracker">
<h2>Creating an odometry tracker<a class="headerlink" href="#creating-an-odometry-tracker" title="Permalink to this headline"></a></h2>
<section id="two-sensor-odometry">
<h3>Two sensor odometry<a class="headerlink" href="#two-sensor-odometry" title="Permalink to this headline"></a></h3>
<p>The <code class="code docutils literal notranslate"><span class="pre">TwoSensorOdom</span></code> class can only provide odometry tracking for
differential drive robots. The constructor for <code class="code docutils literal notranslate"><span class="pre">TwoSensorOdom</span></code> takes
the following three arguments:</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">AbstractOdomSensor</span> <span class="pre">&amp;leftSensor</span></code></dt><dd><p>The left side odometry sensor.
This can be either a <code class="code docutils literal notranslate"><span class="pre">OdomRotationSensor</span></code> or a
<code class="code docutils literal notranslate"><span class="pre">OdomMotorSensor</span></code> depending on whether or not the robot has
dead-wheels</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">AbstractOdomSensor</span> <span class="pre">&amp;leftSensor</span></code></dt><dd><p>The right side odometry sensor.
This can be either a <code class="code docutils literal notranslate"><span class="pre">OdomRotationSensor</span></code> or a
<code class="code docutils literal notranslate"><span class="pre">OdomMotorSensor</span></code> depending on whether or not the robot has
dead-wheels</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">LouLib::Units::Length</span> <span class="pre">trackWidth</span></code></dt><dd><p>The distance between the
left and right wheels that are used for tracking. This distance needs to
be tuned to provide the most accurate tracking results.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="two-sensor-odometry-with-imu">
<h3>Two sensor odometry with IMU<a class="headerlink" href="#two-sensor-odometry-with-imu" title="Permalink to this headline"></a></h3>
<p>The <code class="code docutils literal notranslate"><span class="pre">TwoSensorIMUOdom</span></code> class can only provide odometry tracking for
differential drive robots. The extra IMU sensor will increase the accuracy of
heading readings. The constructor for <code class="code docutils literal notranslate"><span class="pre">TwoSensorIMUOdom</span></code> takes
the following four arguments:</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">AbstractOdomSensor</span> <span class="pre">&amp;leftSensor</span></code></dt><dd><p>The left side odometry sensor.
This can be either a <code class="code docutils literal notranslate"><span class="pre">OdomRotationSensor</span></code> or a
<code class="code docutils literal notranslate"><span class="pre">OdomMotorSensor</span></code> depending on whether or not the robot has
dead-wheels</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">AbstractOdomSensor</span> <span class="pre">&amp;leftSensor</span></code></dt><dd><p>The right side odometry sensor.
This can be either a <code class="code docutils literal notranslate"><span class="pre">OdomRotationSensor</span></code> or a
<code class="code docutils literal notranslate"><span class="pre">OdomMotorSensor</span></code> depending on whether or not the robot has
dead-wheels</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">LouLib::Units::Length</span> <span class="pre">trackWidth</span></code></dt><dd><p>The distance between the
left and right wheels that are used for tracking. This distance needs to
be tuned to provide the most accurate tracking results.</p>
</dd>
</dl>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">OdomIMUSensor</span> <span class="pre">&amp;imuSensor</span></code> - The IMU sensor used for heading.</p></li>
</ul>
</section>
<section id="three-sensor-odometry">
<h3>Three sensor odometry<a class="headerlink" href="#three-sensor-odometry" title="Permalink to this headline"></a></h3>
<p>The <code class="code docutils literal notranslate"><span class="pre">ThreeSensorOdom</span></code> class can provide odometry tracking for both
differential drive and holonomic drive robots. For differential drive robots,
the third sensor will account for any sideways drift. The constructor for
<code class="code docutils literal notranslate"><span class="pre">ThreeSensorOdom</span></code> takes the following five arguments:</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">AbstractOdomSensor</span> <span class="pre">&amp;leftSensor</span></code> - The left side odometry sensor.</dt><dd><p>This can be either a <code class="code docutils literal notranslate"><span class="pre">OdomRotationSensor</span></code> or a
<code class="code docutils literal notranslate"><span class="pre">OdomMotorSensor</span></code> depending on whether or not the robot has
dead-wheels</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">AbstractOdomSensor</span> <span class="pre">&amp;leftSensor</span></code> - The right side odometry sensor.</dt><dd><p>This can be either a <code class="code docutils literal notranslate"><span class="pre">OdomRotationSensor</span></code> or a
<code class="code docutils literal notranslate"><span class="pre">OdomMotorSensor</span></code> depending on whether or not the robot has
dead-wheels</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">LouLib::Units::Length</span> <span class="pre">trackWidth</span></code> - The distance between the</dt><dd><p>left and right wheels that are used for tracking. This distance needs to
be tuned to provide the most accurate tracking results.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">AbstractOdomSensor</span> <span class="pre">&amp;backSensor</span></code> - The odometry sensor placed</dt><dd><p>perpendicular to the other two sensors. This is usually a
<code class="code docutils literal notranslate"><span class="pre">OdomRotationSensor</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">LouLib::Units::Length</span> <span class="pre">backDist</span></code> - The distance between the</dt><dd><p>center of rotation of the robot and the back tracking wheel. This distance
needs to be tuned to provide the most accurate tracking results.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="three-sensor-odometry-with-imu">
<h3>Three sensor odometry with IMU<a class="headerlink" href="#three-sensor-odometry-with-imu" title="Permalink to this headline"></a></h3>
<p>The <code class="code docutils literal notranslate"><span class="pre">ThreeSensorIMUOdom</span></code> class can provide odometry tracking for both
differential drive and holonomic drive robots. The extra IMU sensor will
increase the accuracy of heading readings. For differential drive robots,
the thrid sensor will account for any sideways drift. The constructor for
<code class="code docutils literal notranslate"><span class="pre">ThreeSensorIMUOdom</span></code> takes the following six arguments:</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">AbstractOdomSensor</span> <span class="pre">&amp;leftSensor</span></code></dt><dd><p>The left side odometry sensor.
This can be either a <code class="code docutils literal notranslate"><span class="pre">OdomRotationSensor</span></code> or a
<code class="code docutils literal notranslate"><span class="pre">OdomMotorSensor</span></code> depending on whether or not the robot has
dead-wheels</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">AbstractOdomSensor</span> <span class="pre">&amp;leftSensor</span></code></dt><dd><p>The right side odometry sensor.
This can be either a <code class="code docutils literal notranslate"><span class="pre">OdomRotationSensor</span></code> or a
<code class="code docutils literal notranslate"><span class="pre">OdomMotorSensor</span></code> depending on whether or not the robot has
dead-wheels</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">LouLib::Units::Length</span> <span class="pre">trackWidth</span></code></dt><dd><p>The distance between the
left and right wheels that are used for tracking. This distance needs to
be tuned to provide the most accurate tracking results.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">AbstractOdomSensor</span> <span class="pre">&amp;backSensor</span></code></dt><dd><p>The odometry sensor placed
perpendicular to the other two sensors. This is usually a
<code class="code docutils literal notranslate"><span class="pre">OdomRotationSensor</span></code>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">LouLib::Units::Length</span> <span class="pre">backDist</span></code></dt><dd><p>The distance between the
center of rotation of the robot and the back tracking wheel. This distance
needs to be tuned to provide the most accurate tracking results.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">OdomIMUSensor</span> <span class="pre">&amp;imuSensor</span></code></dt><dd><p>The IMU sensor used for heading.</p>
</dd>
</dl>
</li>
</ul>
</section>
</section>
<section id="using-the-odometry-tracker">
<h2>Using the odometry tracker<a class="headerlink" href="#using-the-odometry-tracker" title="Permalink to this headline"></a></h2>
<p>All four of the odometry classes contain the same methods that can be used
for odometry tracking:</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">void</span> <span class="pre">setPose(LouLib::Math::Pose2D</span> <span class="pre">newPose)</span></code></dt><dd><p>This method is used to
set the current pose of the robot. Calling this method will erase any
previous odometry tracking</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">void</span> <span class="pre">update()</span></code></dt><dd><p>This method is used to compute the updated pose
of the robot.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">LouLib::Math::Pose2D</span> <span class="pre">getPose()</span></code></dt><dd><p>This method is used to get the
current pose of the robot.</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">update</span></code> method should be called frequently into order to ensure
accurate tracking.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Odometry%20Sensors.html" class="btn btn-neutral float-left" title="Odometry Sensors" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Trajectory.html" class="btn btn-neutral float-right" title="Trajectory" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Kevin Lou.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>